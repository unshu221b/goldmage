{% extends 'base-user.html' %}

{% block content %}
<div class="p-4 sm:ml-64">
    <div class="p-4 mt-14">
        <h2 class="text-2xl font-bold mb-4">Search Results</h2>
        {% if query %}
            <p class="text-gray-600 mb-4">Search results for: "{{ query }}"</p>
            {% if results %}
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    {% for lesson in results %}
                        <div class="rounded-lg shadow-sm overflow-hidden">
                            {% if lesson.thumbnail %}
                                <img src="{{ lesson.get_thumbnail }}" alt="{{ lesson.title }}" class="w-full h-48 object-cover">
                            {% endif %}
                            <div class="p-4">
                                <h3 class="text-lg font-semibold mb-2">{{ lesson.title }}</h3>
                                <p class="text-gray-500 text-sm mb-2">{{ lesson.course.title }}</p>
                                <p class="text-gray-600 text-sm line-clamp-2">{{ lesson.description }}</p>
                                <a href="{{ lesson.get_absolute_url }}" 
                                   class="mt-3 inline-block text-blue-600 hover:text-blue-800">
                                    Watch Lesson â†’
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p class="text-gray-600 mt-4">No results found for "{{ query }}".</p>
            {% endif %}
        {% endif %}
    </div>
</div>
{% endblock %} 